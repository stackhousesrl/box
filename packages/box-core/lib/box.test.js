"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");require("jsdom-global/register");var _react=_interopRequireDefault(require("react"));var _reactRedux=require("react-redux");var _index=_interopRequireDefault(require("../index"));var _reduxMockStore=_interopRequireDefault(require("redux-mock-store"));var _react2=require("@testing-library/react");var _reselect=require("reselect");var mockStore=(0,_reduxMockStore["default"])([]);var Text=function Text(_ref){var text=_ref.text,value=_ref.value;return _react["default"].createElement("h1",null,text||value)};var TextName=function TextName(_ref2){var name=_ref2.name;return _react["default"].createElement("h1",null,name)};var Input=function Input(_ref3){var _onChange=_ref3.onChange,value=_ref3.value,name=_ref3.name;return _react["default"].createElement("input",{name:name,value:value,onChange:function onChange(evt){return _onChange(evt.target.value)}})};var Container=function Container(_ref4){var children=_ref4.children;return _react["default"].createElement("div",{className:"paper"},children)};_index["default"].setComponents({Input:Input,Text:Text,TextName:TextName,Container:Container});describe("Test children",function(){var store;beforeEach(function(){store=mockStore({app:{}})});it("Quando passo un child valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",text:"andrea"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1></div></div>")});it("Quando passo un child non valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"TextNO",text:"andrea"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement(_index["default"],{data:children,prefix:"app"})));expect(wrapper.baseElement.innerHTML).toEqual("<div><div></div></div>")});it("Quando passo due children valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",text:"andrea"},{type:"Text",text:"carla"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1><h1>carla</h1></div></div>")});it("Quando passo children validi nested, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",text:"andrea"},{type:"Container",children:[{type:"Text",text:"carla"}]}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>andrea</h1></div><div class=\"paper\"><h1>carla</h1></div></div></div>")})});describe("Test value by id",function(){var store;beforeEach(function(){store=mockStore({app:{name:"andrea",secondName:"carla"}})});it("Quando passo un child valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",id:"name"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1></div></div>")});it("Quando passo due children valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",id:"name"},{type:"Text",id:"secondName"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1><h1>carla</h1></div></div>")});it("Quando passo children validi nested, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",id:"name"},{type:"Container",children:[{type:"Text",id:"secondName"}]}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>andrea</h1></div><div class=\"paper\"><h1>carla</h1></div></div></div>")});it("Quando uso un selettore custom per l'id, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",id:"getName"}];var getName=(0,_reselect.createSelector)(function(state){return state.app},function(data){return"carla"});var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app",selectors:{getName:getName}}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>carla</h1></div></div></div>")});it("Quando uso un selettore custom per il valore l'id, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",id:"getName",replaceValue:"uppercase"}];var getName=(0,_reselect.createSelector)(function(state){return state.app},function(data){return"carla"});var uppercase=function uppercase(state,val){return val.toUpperCase()};var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app",selectors:{getName:getName},replacers:{uppercase:uppercase}}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>CARLA</h1></div></div></div>")});it("Quando uso un selettore custom per il valore da _id, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"TextName",name_id:"getName",name_replaceValue:"uppercase"}];var getName=(0,_reselect.createSelector)(function(state){return state.app},function(data){return"carla"});var uppercase=function uppercase(state,val){return val.toUpperCase()};var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement(_index["default"],{data:children,prefix:"app",selectors:{getName:getName},replacers:{uppercase:uppercase}})));expect(wrapper.baseElement.innerHTML).toEqual("<div><h1>CARLA</h1></div>")})});describe("Test value by root id",function(){var store;beforeEach(function(){store=mockStore({app2:{secondName:"carla"},app:{name:"andrea"},app3:{data:{valore:{secondName:"carla"}}}})});it("Quando passo un child valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",id:"name"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1></div></div>")});it("Quando passo due children valido, mi aspetto il render dell'elemento correttamente",function(){var children=[{type:"Text",id:"name"},{type:"Text",id:"^app2.secondName"}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><h1>andrea</h1><h1>carla</h1></div></div>")});it("Quando passo children validi nested, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",id:"name"},{type:"Container",children:[{type:"Text",id:"^app2.secondName"}]}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>andrea</h1></div><div class=\"paper\"><h1>carla</h1></div></div></div>")});it("Quando passo children validi nested con prefix nei nodi, mi aspetto il render dell'elemento correttamente",function(){var children=[{container:"Container",type:"Text",id:"^app.name"},{type:"Container",prefix:"data",children:[{type:"Container",prefix:"valore",children:[{type:"Text",id:"secondName"}]}]}];var wrapper=(0,_react2.render)(_react["default"].createElement(_reactRedux.Provider,{store:store},_react["default"].createElement("div",null,_react["default"].createElement(_index["default"],{data:children,prefix:"app3"}))));expect(wrapper.baseElement.innerHTML).toEqual("<div><div><div class=\"paper\"><h1>andrea</h1></div><div class=\"paper\"><div class=\"paper\"><h1>carla</h1></div></div></div></div>")})});